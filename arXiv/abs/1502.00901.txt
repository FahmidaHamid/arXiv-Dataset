  Which nodes are most vulnerable to an epidemic spreading through a network,
and which carry the highest risk of causing a major outbreak if they are the
source of the infection? Here we show how these questions can be answered to
good approximation using the cavity method. Several curious properties of node
vulnerability and risk are explored: some nodes are more vulnerable than others
to weaker infections, yet less vulnerable to stronger ones; a node is always
more likely to be caught in an outbreak than it is to start one, except when
the disease has a deterministic lifetime; the rank order of node risk depends
on the details of the distribution of infectious periods.
