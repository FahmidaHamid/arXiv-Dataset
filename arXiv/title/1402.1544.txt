Separability of drag and thrust in undulatory animals and machines