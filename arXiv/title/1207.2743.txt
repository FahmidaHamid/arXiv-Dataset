The evolutionary origins of modularity